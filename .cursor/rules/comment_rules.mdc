---
alwaysApply: true
---

# Правила оформления комментариев в коде X++

## Общий принцип
Все комментарии к изменённому коду должны содержать:
- инициалы разработчика (из `commentmeta.json` → `developer`)
- дату изменения: **всегда текущая дата (сегодня)** в формате DD.MM.YYYY — не брать из `commentmeta.json`
- имя проекта (из `commentmeta.json` → `project`)

**Формат:** `// developer date project`

## Правила оформления

### 1. Комментарий для одной строки
Если изменена или добавлена **одна строка**, комментарий ставится **в конце строки** через пробел:

```
<исправленная строка> // developer date project
```

### 2. Комментарии для блоков кода
Если изменяется **несколько строк подряд**, применяется блоковая форма:

```
// + developer date project
<изменённый код>
<изменённый код>
// - developer date project
```

**Требования:**
- количество ведущих табуляций сохраняется
- блок должен строго охватывать только изменённый участок

### 3. Комментарии при создании нового класса
Если создаётся новый класс:
- комментарий добавляется **первой строкой** в методе `declareclass`

**Формат:**
```
// developer date project
```

### 4. Комментарии при создании нового метода
Если создаётся новый метод в классе, таблице, форме и т.п.:
- комментарий ставится **первой строкой метода**

**Формат:**
```
// developer date project
```

## Правило модификаций (AX_Modification_Rules)
При изменениях кода алгоритм такой:
1. Старые строки **не удаляются**, а комментируются при необходимости
2. Новые строки оформляются через `// +` / `// -`
3. После завершения модификаций все изменённые методы выводятся ассистентом в отдельных окнах (или секциях) в формате X++

## Использование метаданных
- `developer` и `project` берутся из файла `commentmeta.json`. Если файл не найден, используй значения по умолчанию или запроси у пользователя.
- **Дата:** всегда подставлять текущую дату на момент написания комментария (сегодня), формат DD.MM.YYYY. Поле `date` в `commentmeta.json` для подстановки в комментарии не использовать.

**ВАЖНО:** При каждом изменении кода X++ в файлах `.xpp` в папке `parserXPO` строго следуй этим правилам оформления комментариев.
